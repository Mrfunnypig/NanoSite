/* OpenAI-style theme pack */
/* Inspiration: ChatGPT UI — calm neutrals, emerald accent */

/* Light mode */
:root {
  --bg: #f7f7f8;           /* app canvas */
  --text: #1e2329;         /* primary text */
  --muted: #6b7280;        /* secondary text */
  --primary: #10a37f;      /* OpenAI green */
  --primary-hover: #0e8c6d;/* darker hover */
  --card: #ffffff;         /* surfaces */
  --border: #e5e7eb;       /* dividers */
  --code-bg: #0b1020;      /* rich code bg (dark) */
  --code-text: #e5e7eb;    /* code text */
  --hr: #e5e7eb;           /* horizontal rules */
  --shadow: 0 1px 3px rgba(0,0,0,.06), 0 1px 2px rgba(0,0,0,.04);
}

/* Dark mode */
[data-theme="dark"] {
  --bg: #343541;           /* chat canvas */
  --text: #ececf1;         /* near-white */
  --muted: #aab0b7;        /* secondary */
  --primary: #10a37f;      /* OpenAI green */
  --primary-hover: #1fb290;/* hover */
  --card: #444654;         /* surface blocks */
  --border: #2f3137;       /* outlines */
  --code-bg: #1f2430;      /* darker code */
  --code-text: #e6edf3;    /* readable code */
  --hr: #2f3137;
  --shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* Canvas & typography */
body { background: var(--bg) !important; }
#mainview { font-size: 1rem !important; line-height: 1.7 !important; }
#mainview h1 { font-size: 1.6rem !important; margin: 16px 0 8px !important; }
#mainview h2 { font-size: 1.3rem !important; margin: 12px 0 6px !important; }
#mainview h3 { font-size: 1.1rem !important; margin: 10px 0 6px !important; }

/* Links — emerald accent */
a { color: var(--primary) !important; }
a:hover { color: var(--primary-hover) !important; text-decoration: underline !important; }

/* Cards and surfaces — subtle, rounded */
.box { border-radius: 12px !important; box-shadow: none !important; border: 1px solid var(--border) !important; background: var(--card) !important; }
.hero { border-radius: 12px !important; box-shadow: none !important; border: 1px solid var(--border) !important; background: var(--card) !important; }

/* Tabs — pill chips with accent */
.tabs { background: var(--card) !important; border: 1px solid var(--border) !important; padding: 4px !important; border-radius: 999px !important; gap: 6px !important; }
.tab { border: 1px solid transparent !important; border-radius: 999px !important; padding: .35rem .6rem !important; color: var(--text) !important; font-weight: 600 !important; }
.tab:hover { background: color-mix(in srgb, var(--text) 6%, transparent) !important; border-color: transparent !important; }
.tab.active { background: color-mix(in srgb, var(--primary) 16%, transparent) !important; color: var(--primary) !important; border-color: color-mix(in srgb, var(--primary) 40%, var(--border)) !important; }
/* Dark-mode chips tuned for better contrast */
[data-theme="dark"] .tabs { background: var(--card) !important; border-color: color-mix(in srgb, var(--text) 10%, var(--border)) !important; }
[data-theme="dark"] .tab:hover { background: color-mix(in srgb, var(--text) 10%, transparent) !important; }
[data-theme="dark"] .tab.active { background: color-mix(in srgb, var(--primary) 22%, var(--card)) !important; color: #ffffff !important; border-color: color-mix(in srgb, var(--primary) 55%, var(--border)) !important; }

/* Index cards — flatter look */
.index a { border-radius: 10px !important; box-shadow: none !important; border: 1px solid var(--border) !important; background: var(--card) !important; }
.index a:hover { transform: translateY(-0.5px) !important; box-shadow: 0 2px 8px rgba(0,0,0,.05) !important; }
.index .card-cover-wrap { background: color-mix(in srgb, var(--text) 4%, transparent) !important; }
.index .card-meta { text-transform: none !important; letter-spacing: .01em !important; }
.index .tag { background: color-mix(in srgb, var(--text) 8%, transparent) !important; color: var(--muted) !important; }

/* Blockquote — neutral surface, accented rule only */
blockquote { border-left: 4px solid color-mix(in srgb, var(--primary) 55%, transparent) !important; background: transparent !important; color: var(--text) !important; font-style: normal !important; }

/* Code & pre — readable with rounded corners */
code { background: color-mix(in srgb, var(--text) 10%, transparent) !important; color: var(--text) !important; border-radius: 6px !important; }
pre  { background: var(--code-bg) !important; color: var(--code-text) !important; border-radius: 10px !important; border: 1px solid var(--border) !important; box-shadow: none !important; }

/* TOC and anchors */
#tocview .toc-header { color: var(--muted) !important; }
#tocview .toc-header .toc-top { background: var(--card) !important; border-color: var(--border) !important; }
h1 .anchor, h2 .anchor, h3 .anchor, h4 .anchor, h5 .anchor, h6 .anchor { color: var(--muted) !important; }

/* Search and buttons */
#searchbox input[type="search"] { background: var(--card) !important; border-color: var(--border) !important; border-radius: 10px !important; }
#tools .btn { background: var(--card) !important; border-color: var(--border) !important; border-radius: 10px !important; }
#tools .btn:hover { background: color-mix(in srgb, var(--text) 7%, transparent) !important; }

/* Primary button */
.btn-primary { background: var(--primary) !important; color: #fff !important; border: 1px solid color-mix(in srgb, var(--primary) 70%, #000) !important; border-radius: 10px !important; }
.btn-primary:hover { background: var(--primary-hover) !important; }

/* Pagination */
.pagination a, .pagination span { border-radius: 10px !important; box-shadow: none !important; }
.pagination .active { background: transparent !important; color: var(--primary) !important; border-color: color-mix(in srgb, var(--primary) 55%, var(--border)) !important; font-weight: 700 !important; }

/* Focus and selection affordances */
a:focus-visible, button:focus-visible, select:focus-visible, input:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--primary) 55%, transparent) !important;
  outline-offset: 2px !important;
}
::selection { background: color-mix(in srgb, var(--primary) 55%, transparent); color: #fff; }

/* Layout tightening — app-like proportions */
.container { max-width: 980px !important; gap: 16px !important; }
.content { flex: 0 1 720px !important; }
.sidebar { flex: 0 0 240px !important; }
.box { padding: 16px !important; }

/* Table — softer dotted grid */
.table-wrap table { border-color: var(--border) !important; }
table { border: 1px dotted var(--border) !important; }
table th { background-color: color-mix(in srgb, var(--text) 4%, transparent) !important; color: var(--text) !important; border-bottom: 1px dotted var(--border) !important; font-weight: 700 !important; }
table td { border-bottom: 1px dotted var(--border) !important; }
table tr:nth-child(odd), table tr:nth-child(even) { background-color: transparent !important; }
table tr:hover { background-color: color-mix(in srgb, var(--text) 4%, transparent) !important; }
/* Dark-mode table headers — slightly stronger contrast */
[data-theme="dark"] table th { background-color: color-mix(in srgb, var(--text) 12%, var(--card)) !important; }

/* Border prominence — soften across components */
.box, .hero, .tabs, .index a, #searchbox input[type="search"], #tools .btn, pre, .table-wrap table, table {
  border-color: color-mix(in srgb, var(--border) 70%, transparent) !important;
}
[data-theme="dark"] .box, [data-theme="dark"] .hero, [data-theme="dark"] .tabs, [data-theme="dark"] .index a,
[data-theme="dark"] #searchbox input[type="search"], [data-theme="dark"] #tools .btn, [data-theme="dark"] pre, [data-theme="dark"] .table-wrap table, [data-theme="dark"] table {
  border-color: color-mix(in srgb, var(--border) 55%, transparent) !important;
}

/* Adaptive widths — responsive app feel */
@media (max-width: 1024px) and (min-width: 769px) {
  .container { max-width: 880px !important; }
  .content { flex: 0 1 620px !important; }
  .sidebar { flex: 0 0 220px !important; }
}
@media (min-width: 1280px) {
  .container { max-width: 1120px !important; }
  .content { flex: 0 1 780px !important; }
  .sidebar { flex: 0 0 280px !important; }
}
