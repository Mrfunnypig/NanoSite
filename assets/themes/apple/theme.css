/* Apple (HIG-inspired) theme pack */
:root {
  --bg: #fbfbfd;           /* apple.com background */
  --text: #1d1d1f;         /* body text */
  --muted: #6e6e73;        /* secondary text */
  --primary: #06c;         /* link blue (#0066cc) */
  --primary-hover: #147ce5;/* hover blue */
  --card: #ffffff;         /* surfaces */
  --border: #d2d2d7;       /* hairline border */
  --code-bg: #f5f5f7;      /* subtle code bg */
  --code-text: #1d1d1f;
  --hr: #d2d2d7;
  --shadow: 0 1px 1px rgba(0,0,0,.04), 0 2px 8px rgba(0,0,0,.03);
}

[data-theme="dark"] {
  --bg: #1c1c1e;           /* systemGray6 */
  --text: #f5f5f7;         /* near white */
  --muted: #9a9aa1;        /* secondary on dark */
  --primary: #0a84ff;      /* iOS accent */
  --primary-hover: #409cff;
  --card: #2c2c2e;         /* systemGray5 */
  --border: #3a3a3c;       /* systemGray4 */
  --code-bg: #1c1c1e;      /* match bg */
  --code-text: #f5f5f7;
  --hr: #3a3a3c;
  --shadow: 0 1px 2px rgba(0,0,0,.4);
}

/* Typography + canvas */
body {
  background: var(--bg) !important;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", system-ui, "Segoe UI", Roboto, Helvetica, Arial !important;
  letter-spacing: 0 !important;
}

/* Layout proportions */
.container { max-width: 1000px !important; gap: 24px !important; }
.content { flex: 0 1 720px !important; }
.sidebar { flex: 0 0 260px !important; }

/* Cards and surfaces */
.box { border-radius: 12px !important; box-shadow: none !important; border-color: var(--border) !important; }
.hero { background: var(--card) !important; box-shadow: none !important; border: 1px solid var(--border) !important; }

/* Links — match apple.com */
a { color: var(--primary) !important; }
a:hover { color: var(--primary-hover) !important; text-decoration: underline !important; }

/* Headings rhythm (no bottom borders) */
#mainview { font-size: 17px !important; line-height: 1.75 !important; }
#mainview h1 { font-size: 2.1rem !important; margin: 28px 0 12px !important; }
#mainview h2 { font-size: 1.6rem !important; margin: 22px 0 10px !important; border: none !important; }
#mainview h3 { font-size: 1.25rem !important; margin: 18px 0 8px !important; }

/* Tabs — apple.com style (underline) */
.tabs { background: transparent !important; border: none !important; padding: 0 !important; border-radius: 0 !important; gap: 6px !important; width: 100% !important; border-bottom: 1px solid var(--border) !important; }
.tab { border: none !important; border-bottom: 2px solid transparent !important; border-radius: 0 !important; padding: .5rem .6rem !important; color: var(--text) !important; font-weight: 600 !important; }
.tab:hover { background: transparent !important; color: var(--primary) !important; border-bottom-color: color-mix(in srgb, var(--primary) 30%, transparent) !important; }
.tab.active { background: transparent !important; color: var(--text) !important; border-bottom-color: var(--primary) !important; }

/* Index: image-forward tiles with caption */
.index a { border: none !important; background: transparent !important; box-shadow: none !important; border-radius: 0 !important; }
.index a:hover { transform: none !important; }
.index .card-cover-wrap { border-radius: 14px !important; overflow: hidden !important; border: 1px solid var(--border) !important; background: color-mix(in srgb, var(--text) 4%, transparent) !important; }
.index .card-cover { transition: transform .35s ease !important; }
.index a:hover .card-cover { transform: scale(1.02) !important; }
.index .card-title { padding: 10px 2px !important; font-weight: 700 !important; }
.index .card-excerpt { padding: 0 2px 6px !important; color: var(--muted) !important; }
.index .card-meta { padding: 2px 2px 14px !important; text-transform: none !important; letter-spacing: 0 !important; border-top: none !important; }
.index .tag { background: color-mix(in srgb, var(--text) 6%, transparent) !important; color: var(--muted) !important; }

/* Blockquote: understated */
blockquote { border-left: 4px solid var(--border) !important; background: transparent !important; font-style: normal !important; color: var(--text) !important; }

/* Code and pre — SF Mono and hairlines */
code { background-color: var(--code-bg) !important; color: var(--code-text) !important; border: 1px solid var(--border) !important; border-radius: 6px !important; padding: .15em .35em !important; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important; }
pre { background-color: var(--code-bg) !important; color: var(--code-text) !important; border: 1px solid var(--border) !important; box-shadow: none !important; border-radius: 12px !important; font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important; }

/* Tables: hairline grid, soft stripes */
.table-wrap table { border-color: var(--border) !important; }
table { border-color: var(--border) !important; }
table th { background-color: color-mix(in srgb, var(--text) 4%, transparent) !important; color: var(--text) !important; }
table tr:nth-child(odd) { background-color: transparent !important; }
table tr:nth-child(even) { background-color: color-mix(in srgb, var(--text) 2%, transparent) !important; }
table tr:hover { background-color: color-mix(in srgb, var(--primary) 8%, transparent) !important; }

/* Pagination: minimalist pills */
.pagination a, .pagination span { border-radius: 10px !important; box-shadow: none !important; }
.pagination .active { background: color-mix(in srgb, var(--primary) 14%, transparent) !important; color: var(--primary) !important; border-color: color-mix(in srgb, var(--primary) 40%, var(--border)) !important; font-weight: 700 !important; }

/* TOC and anchors */
#tocview .toc-header { color: var(--muted) !important; }
#tocview .toc-header .toc-top { background: var(--card) !important; border-color: var(--border) !important; }
h1 .anchor, h2 .anchor, h3 .anchor, h4 .anchor, h5 .anchor, h6 .anchor { color: var(--muted) !important; }

/* Sidebar card: simple */
.site-card .site-title { font-size: 1.15rem !important; }
.site-card .site-subtitle { font-size: .95rem !important; color: var(--muted) !important; }

/* Search box and buttons */
#searchbox input[type="search"] { background: var(--card) !important; border-color: var(--border) !important; border-radius: 10px !important; }
#tools .btn { background: var(--card) !important; border-color: var(--border) !important; border-radius: 10px !important; }
#tools .btn:hover { background: color-mix(in srgb, var(--text) 7%, transparent) !important; }

/* Focus ring — blue halo */
a:focus-visible, button:focus-visible, select:focus-visible, input:focus-visible { outline: 3px solid color-mix(in srgb, var(--primary) 50%, transparent) !important; outline-offset: 2px !important; }

/* Notices */
.notice { border-color: var(--border) !important; background: var(--card) !important; }
.notice.error { border-left-color: #ff3b30 !important; }

/* Images */
#mainview img { box-shadow: none !important; border: none !important; border-radius: 12px !important; }

/* Primary button — fill like Apple CTAs */
.btn-primary { background: var(--primary) !important; border: 1px solid color-mix(in srgb, var(--primary) 65%, #000) !important; color: #fff !important; border-radius: 12px !important; }
.btn-primary:hover { background: var(--primary-hover) !important; }
